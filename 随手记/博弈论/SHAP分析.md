SHAP（SHapley Additive exPlanations） 基于博弈论的沙普利值（Shapley Value），用于解释机器学习模型的预测结果。其核心思想是将单个样本的模型输出分解为各特征的加性贡献，形式为：

其中，表示特征![](data:image/emf;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAOCAYAAAAIar0YAAAAAXNSR0IArs4c6QAAAHhlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAASgAwAEAAAAAQAAAA4AAAAAKjc+6wAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAGpJREFUCB1jYCAEmIEK/kMVOQDp/SABJiBuAOKDQAzmgGgQ0AViGZAsDAQAGWIgLY5A/AaIfwIxC0yFKJCzGoj/wwRYgZwLQPwXJmAJ5JwCYrgtGAIWyCokgZz3QHwbiMEA5PTNQNwIxP8BLsAR4ilucVgAAAAASUVORK5CYII=)对预测结果的平均边际贡献，为模型在基线样本（背景分布）上的期望输出，![](data:image/emf;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAOCAYAAAAWo42rAAAAAXNSR0IArs4c6QAAAHhlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAAqgAwAEAAAAAQAAAA4AAAAAaxPGfQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAM1JREFUKBWt0LsOAUEUxvG1EaESDaVWoxW3kvAcnkGjcdkH8QYqpYiWiCiUhEIhOgol6/9NMlNtVuMkv7mePTM7nvfvSFAwxDim8Ig9P0kTYBKTaLaUqCijizNmsNFjULcTVdMVHtjaRfoOdK2V1nw1RB5HFDUhUtDdnjjBJdYYL5BFGn0skcENLrHKeIMrmmjjgD3ecImquMYFU6hiBVozoTtKAXcocY4dGtApJvQ8OjYH/cgAL7SgiiV8YOLXY+vvzfuF9IH5JLoZKu8LEeokV8BfueMAAAAASUVORK5CYII=)是特征总数，。

SHAP 通过枚举特征加入顺序并计算边际增益的期望，实现了公平、可解释的特征归因，能够同时考虑特征之间的交互作用，并满足 局部精确性（Local Accuracy）、零贡献性（Missingness） 和 一致性（Consistency） 等理论公理，因此结果具有明确的数学依据。